<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>OG ì¸ë„¤ì¼ ìƒì„± (ì¹´í†¡ìš© 1200x1200)</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #222; color: #fff; }
    #canvas { display: block; margin: 20px 0; border: 2px solid #666; max-width: 100%; max-height: 50vh; }
    .btn-row { display: flex; gap: 12px; margin: 20px 0; flex-wrap: wrap; }
    .btn-row button, .btn-row label { padding: 14px 28px; font-size: 16px; cursor: pointer; background: #0f380f; color: #fff; border: none; border-radius: 8px; }
    .btn-row button:hover:not(:disabled), .btn-row label:hover { background: #1a4d1a; }
    button:disabled { opacity: 0.7; cursor: not-allowed; }
    #downloadBtn { font-size: 18px; background: #306230; min-width: 220px; }
    .file-box label { display: inline-block; }
    .file-box input { display: none; }
    .step { font-size: 14px; color: #aaa; margin-bottom: 8px; }
    p { max-width: 500px; }
  </style>
</head>
<body>
  <h1>OG ì¸ë„¤ì¼ ìƒì„±ê¸°</h1>
  <p>ì¹´í†¡Â·SNS ì˜ë¦¼ ë°©ì§€: 1200Ã—1200 ì •ì‚¬ê°í˜•ìœ¼ë¡œ ìƒì„± (ì¹´í†¡ì´ ìë¥´ëŠ” ë°©ì‹ì— ë§ì¶¤)</p>
  <div class="btn-row">
    <div>
      <div class="step">1ë‹¨ê³„</div>
      <label for="fileInput">ğŸ“ Thumbnail.png ì„ íƒ</label>
      <input type="file" id="fileInput" accept="image/*">
    </div>
    <div>
      <div class="step">2ë‹¨ê³„</div>
      <button id="downloadBtn" onclick="download()">ğŸ’¾ Thumbnail_og.png ì €ì¥</button>
    </div>
  </div>
  <p style="color:#8bac0f; margin-top:0;">â†“ ì•„ë˜ ë¯¸ë¦¬ë³´ê¸° í™•ì¸ í›„ ì €ì¥ ë²„íŠ¼ í´ë¦­</p>
  <canvas id="canvas" width="1200" height="1200"></canvas>

  <script>
    const TARGET = 1200;  // ì¹´í†¡ ì˜ë¦¼ ë°©ì§€ìš© ì •ì‚¬ê°í˜•
    const PADDING = 0.85;  // 85% ì•ˆì— ë‚´ìš© ë°°ì¹˜ (ì—¬ë°± í™•ë³´)
    let hasImage = false;

    function draw(img) {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      const w = img.width, h = img.height;
      const inner = TARGET * PADDING;
      const scale = Math.min(inner / w, inner / h);
      const newW = w * scale, newH = h * scale;
      const x = (TARGET - newW) / 2, y = (TARGET - newH) / 2;
      ctx.fillStyle = '#1a1a1a';
      ctx.fillRect(0, 0, TARGET, TARGET);
      ctx.drawImage(img, x, y, newW, newH);
      hasImage = true;
    }

    document.getElementById('fileInput').onchange = (e) => {
      const f = e.target.files[0];
      if (!f) return;
      const img = new Image();
      img.onload = () => draw(img);
      img.onerror = () => alert('ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨');
      img.src = URL.createObjectURL(f);
    };

    function download() {
      if (!hasImage) { alert('ë¨¼ì € 1ë‹¨ê³„ì—ì„œ Thumbnail.pngë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
      const a = document.createElement('a');
      a.download = 'Thumbnail_og.png';
      a.href = document.getElementById('canvas').toDataURL('image/png');
      a.click();
    }
  </script>
</body>
</html>
